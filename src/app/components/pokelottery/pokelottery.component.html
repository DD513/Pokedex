<div class="card">
  <div class="left-section">
    <h2 class="title">寶可夢抽抽樂</h2>
    <p class="instruction">按下按鈕，試試你的運氣吧！</p>
    <button
      class="lottery-button"
      (click)="drawLottery()"
      [disabled]="isDrawing"
    >
      抽抽樂
    </button>
    <p class="game-count">遊戲次數: {{ gameCount }}</p>
  </div>

  <div class="right-section">
    <ng-container *ngIf="lotteryResult; else loadingTemplate">
      <div class="lottery-result">
        <div class="pokemon-card">
          <img [src]="lotteryResult.Img" [alt]="lotteryResult.EnglishName" />
          <div class="pokemon-info">
            <div class="pokemon-name-row">
              <p class="pokemon-name">
                {{ lotteryResult.ChineseName }}
                ({{ lotteryResult.EnglishName }})
              </p>
            </div>
            <div class="pokemon-details">
              <p><strong>類別:</strong> {{ lotteryResult.Category }}</p>
              <p><strong>高度:</strong> {{ lotteryResult.Height }} m</p>

              <p>
                <strong>類型:</strong>
                <span
                  *ngFor="let type of lotteryResult.Types"
                  class="type-badge"
                  [style.backgroundColor]="getTypeColor(type.Name)"
                  [style.color]="'#fff'"
                >
                  {{ type.Name }}
                </span>
              </p>
            </div>
            <p class="pokemon-description">{{ lotteryResult.Description }}</p>
          </div>
        </div>
      </div>
    </ng-container>

    <ng-template #loadingTemplate>
      <div class="loading-container">
        <img
          src="assets/images/loading-egg.png"
          alt="Loading"
          class="loading-icon"
        />
        <p class="loading-text">寶可夢載入中...</p>
      </div>
    </ng-template>
  </div>
</div>
